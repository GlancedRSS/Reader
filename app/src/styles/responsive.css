/*
================================================================================
RESPONSIVE.CSS
================================================================================

PURPOSE:
  All mobile, tablet, and responsive design styles. This file contains
  touch optimizations, responsive typography, adaptive layouts, and
  accessibility considerations for different screen sizes and devices.

CONTENTS:
  1. Touch Optimizations (touch targets, safe areas, gesture handling)
  2. Mobile Typography and Spacing (≤767px)
  3. Tablet Adjustments (768px-1279px)
  4. Desktop Baseline (≥1024px)
  5. Gesture and Interaction Handling
  6. Accessibility Features (focus, high contrast, reduced motion)
  7. Device-specific Media Queries

USAGE:
  - Import AFTER variables.css and utilities.css for proper specificity
  - Uses design tokens from variables.css for consistent values
  - Follows mobile-first responsive design principles
  - Includes accessibility-first responsive considerations

DEPENDENCIES:
  - variables.css (for spacing, typography, and breakpoint tokens)
  - utilities.css (for utility class overrides)

MAINTENANCE:
  - Test responsive behavior across actual devices, not just viewport resize
  - Ensure touch targets meet accessibility guidelines (44px minimum)
  - Consider performance impact of responsive animations
  - Maintain consistent spacing and typography scales across breakpoints
================================================================================
*/

/* ==========================================================================
   TOUCH OPTIMIZATIONS
   ==========================================================================*/

@media (hover: none) and (pointer: coarse) and (max-width: 1024px) {
	/* Increase spacing for touch interactions */
	.touch-spacing > * + * {
		margin-top: var(--spacing-3); /* 12px */
	}

	.interactive-element {
		padding: var(--spacing-3); /* 12px */
		margin: var(--spacing-1); /* 4px */
	}

	.safe-area-inset-bottom {
		padding-bottom: env(safe-area-inset-bottom);
	}

	.safe-area-inset-top {
		padding-top: env(safe-area-inset-top);
	}

	.safe-area-inset-left {
		padding-left: env(safe-area-inset-left);
	}

	.safe-area-inset-right {
		padding-right: env(safe-area-inset-right);
	}
}

/* ==========================================================================
   MOBILE TYPOGRAPHY AND SPACING (max-width: 767px)
   ==========================================================================*/

@media (max-width: 767px) {
	/* Base font sizes to prevent iOS zoom */
	html {
		font-size: 16px;
	}

	.article-content {
		font-size: 1.1rem;
		line-height: 1.7;
		padding: var(--spacing-4); /* 16px */
	}

	.article-content h1 {
		font-size: var(
			--font-size-5xl
		); /* 3rem, but we'll use a smaller equivalent */
		line-height: var(--line-height-tight); /* 1.25, close to 1.3 */
		margin: var(--spacing-6) 0 var(--spacing-4); /* 24px 0 16px */
	}

	.article-content h2 {
		font-size: var(
			--font-size-4xl
		); /* 2.25rem, but we'll use a smaller equivalent */
		line-height: var(--line-height-snug); /* 1.375, close to 1.4 */
		margin: var(--spacing-5) 0 var(--spacing-3); /* 20px 0 12px */
	}

	.article-content h3 {
		font-size: var(
			--font-size-3xl
		); /* 1.875rem, but we'll use a smaller equivalent */
		line-height: var(--line-height-snug); /* 1.375, close to 1.4 */
		margin: var(--spacing-4) 0 var(--spacing-3); /* 16px 0 12px */
	}

	.article-content p {
		margin-bottom: var(--spacing-4); /* 16px */
	}

	.feed-item {
		font-size: 0.95rem;
		padding: var(--spacing-3) var(--spacing-4); /* 12px 16px */
		min-height: 60px;
	}

	.feed-item-title {
		font-size: var(--font-size-base); /* 1rem */
		font-weight: var(--font-weight-medium); /* 500 */
		line-height: 1.4;
	}

	.feed-item-meta {
		font-size: var(--font-size-sm); /* 0.875rem */
		line-height: 1.3;
	}

	.nav-item {
		font-size: var(--font-size-sm); /* 0.875rem */
		padding: var(--spacing-3) var(--spacing-4); /* 12px 16px */
	}

	.mobile-bottom-nav {
		font-size: var(--font-size-xs); /* 0.75rem */
	}

	.mobile-sidebar {
		font-size: 0.95rem;
	}

	.sidebar-item {
		padding: var(--spacing-3) var(--spacing-4); /* 12px 16px */
		min-height: 48px; /* Accessibility minimum touch target */
	}

	.card {
		padding: var(--spacing-4); /* 16px */
		margin: var(--spacing-2); /* 8px */
		border-radius: 12px;
	}

	.list-item {
		padding: var(--spacing-3) var(--spacing-4); /* 12px 16px */
		min-height: 56px;
	}
}

/* ==========================================================================
   TABLET ADJUSTMENTS (768px-1279px)
   ==========================================================================*/

@media (min-width: 768px) and (max-width: 1279px) {
	.article-content {
		font-size: 1.05rem;
		padding: var(--spacing-6) var(--spacing-8); /* 24px 32px */
	}

	.feed-item {
		font-size: var(--font-size-base); /* 1rem */
		padding: 14px 20px; /* Custom values for tablet */
		min-height: 64px;
	}

	.tablet-sidebar-overlay {
		position: fixed;
		top: 0;
		left: 0;
		bottom: 0;
		width: 320px;
		max-width: 80vw;
		background: var(--sidebar-background);
		border-right: var(--border-width-1) solid var(--border);
		z-index: 50;
		transform: translateX(-100%);
		transition: transform var(--duration-300) var(--easing-in-out);
	}

	.tablet-sidebar-overlay.open {
		transform: translateX(0);
	}

	.tablet-sidebar-backdrop {
		position: fixed;
		inset: 0;
		background: rgba(0, 0, 0, 0.2);
		backdrop-filter: blur(4px);
		z-index: 40;
		opacity: 0;
		transition: opacity var(--duration-200) var(--easing-in-out);
		pointer-events: none;
	}

	.tablet-sidebar-backdrop.open {
		opacity: 1;
		pointer-events: all;
	}

	.tablet-split-pane {
		display: flex;
		height: 100%;
	}

	.tablet-article-list {
		width: 320px;
		border-right: var(--border-width-1) solid var(--border);
		flex-shrink: 0;
	}

	.tablet-article-content {
		flex: 1;
		overflow: hidden;
	}

	.interactive-element {
		padding: 14px;
		margin: 6px;
		min-height: 52px;
	}

	.mobile-bottom-nav {
		height: 64px;
	}

	.nav-item {
		font-size: 0.9rem;
		padding: 14px 20px;
		min-height: 52px;
	}

	.sidebar-item {
		padding: 14px 20px;
		min-height: 52px;
	}

	.card {
		padding: var(--spacing-5); /* 20px */
		margin: var(--spacing-3); /* 12px */
		border-radius: 14px;
	}
}

/* ==========================================================================
   DESKTOP BASELINE (min-width: 1024px)
   ==========================================================================*/

@media (min-width: 1024px) {
	.article-content {
		font-size: 1rem;
		line-height: 1.6;
	}

	.feed-item {
		font-size: 0.95rem;
		padding: 10px 16px;
		min-height: 56px;
	}
}

/* ==========================================================================
   GESTURE AND INTERACTION HANDLING
   ==========================================================================*/

/* Gesture prevention areas for mobile touch interactions */
.gesture-sensitive {
	touch-action: none;
	-webkit-touch-callout: none;
	-webkit-user-select: none;
}

.edge-gesture-area {
	touch-action: pan-y;
	position: relative;
}

@media (hover: none) and (pointer: coarse) {
	* {
		scroll-behavior: smooth;
		-webkit-overflow-scrolling: touch;
	}

	.no-bounce {
		overflow: hidden;
		position: fixed;
		width: 100%;
		height: 100%;
	}
}

/* ==========================================================================
   ACCESSIBILITY FEATURES
   ==========================================================================*/

@media (hover: none) and (pointer: coarse) {
	*:focus-visible {
		outline: 2px solid currentColor;
		outline-offset: 2px;
	}

	button:focus-visible,
	[role='button']:focus-visible {
		outline: 2px var(--ring) solid;
		outline-offset: 2px;
	}
}

@media (prefers-color-scheme: dark) and (max-width: 767px) {
	.article-content {
		color: #e5e5e5;
	}

	.article-content a {
		color: #60a5fa;
	}

	.article-content a:visited {
		color: #a78bfa;
	}
}

@media (prefers-contrast: high) {
	.article-content {
		color: WindowText;
		background: Window;
	}

	.article-content a {
		color: LinkText;
	}

	.article-content a:visited {
		color: VisitedText;
	}
}

@media (prefers-reduced-motion: reduce) {
	* {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

/* ==========================================================================
   BASE RESPONSIVE STYLES FROM GLOBALS
   ==========================================================================

   These are fundamental responsive styles that were originally in globals.css
   but have been moved here for better organization with other responsive code.
*/

@media (max-width: 767px) {
	html {
		width: 100%;
		overflow-x: hidden;
	}

	body {
		width: 100%;
		overflow-x: hidden;
	}
}
